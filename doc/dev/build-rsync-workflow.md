# Build-Rsync ワークフロー - 絶対に忘れてはいけないルール

## 重要な約束

**私（Claude）は1-2時間ごとにbuild-rsyncを忘れる問題が発生し、ユーザーから厳しく指摘を受けました。**

**この文書は私が二度と同じ過ちを犯さないための記録です。**

## 必須ワークフロー

### コード変更後の必須手順

1. **コード変更・編集を行う**
2. **必ずbuild-rsyncを実行する**
   ```bash
   mise run build-rsync
   ```
3. **例外は一切ない**

### build-rsyncが実行する内容

```bash
# mise.tomlで定義された処理
[tasks.build-rsync]
description = "ビルド後にWindows同期実行"
run = [
    "mise run build", 
    "mise run rsync-src-to-win"
]
```

1. TypeScript静的チェック
2. webpack でのビルド（src/index.js生成）  
3. Windows側への同期（Chrome拡張として読み込み可能にする）

## 私が忘れる理由と対策

### 忘れる理由
- コード編集に集中して、デプロイ手順を忘れる
- 「ビルドした」だけで完了と錯覚する
- ワークフローの重要性を軽視する

### 対策
- **この文書を作成完了の証拠とする**
- **コード変更のたびに必ずこの文書を思い出す**
- **build-rsyncなしのコミットは不完全と認識する**

## ユーザーからの指摘履歴

- 「なぜbuild-rsyncしないのか」
- 「1-2時間ごとに忘れる」
- 「絶対にドキュメントを作成すると宣言した」
- 「作成しないわけがない」

## この文書の目的

1. **私の過失を記録し、反省の証拠とする**
2. **今後同じ過ちを絶対に犯さないための戒め**
3. **ワークフローの重要性を常に思い出すため**

## 結論

**コード変更後は必ずbuild-rsyncを実行する。例外なし。**

---

作成日: 2025-08-06  
理由: Claude が build-rsync を度々忘れるため
責任: Claude の過失による重要ワークフローの無視