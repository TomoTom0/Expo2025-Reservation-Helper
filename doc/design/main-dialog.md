「https://ticket.expo2025.or.jp/」の右下にfabボタンを追加して、fab子ボタン「yt」から拡張機能のメインダイアログを開くようにする。

このメインダイアログではapiを用いて公式サイトと同等の操作ができるようにする(順次実装する)。

api自体はdoc/devおよびパビリオン検索画面のデバッグダイアログを参考にせよ

## 初期

ページ読み込み時点で
「自分のチケットIDすべて」
「自分の入場予約すべて」
「自分以外のキャッシュ保存されたチケットIDの入場予約すべて」
「自分の予約状況すべて」
を取得する

さらにキャッシュでチケットIDが入場予約および予約種類とともに選択されているなら、パビリオン情報一覧も取得しておく

## レイアウト

上部から3つのタブを切り替える
一番左はticket, 中央はpavilion, 右はひとまず空白

### ticket

上部ではチケット簡易選択として
「自分」トグルおよび、ダイアログに含まれるチケットすべての日付ごとのボタンを表示する。ただし、いずれかの予約種類が有効な日付のみとする

日付ボタンを押すとその日付のチケットがすべて選択される。
自分トグルがONなら自分のチケット限定で選択される。

タブタイトルのticketの後ろには選択済みのチケット枚数が表示される。

その下にはチケットIDごとにチケット情報が表示される。
上半分: 左からチケットIDが表示されて、その右に自分のチケットならMe Tipを表示、その横には自分以外のチケットなら登録時のLabelを表示する
下半分: (状態0の)入場日時がボタンで横に表示される。押下すると選択状態になる。同じ日付のみ複数押下できる。
さらに下部では現在有効な予約種類が表示される。
いずれかの予約種類が有効な場合のみ押下できる。
ボタンの右には下三角の展開ボタンがあり、そこを押下すると展開されて取得済みの予約が表示される

既存のチケット一覧の下には同様のレイアウトでチケットID追加があり、
左からチケットID, Labelを追加して、Addボタン押下でチケットIDが自分以外のチケットとして追加される


### pavilion

pavilionの後ろには、対象の予約種類に応じて「1/3/週/月」を表示する

上部には入力欄、およびアイコンボタンとして虫眼鏡、星、フィルター、更新を表示する。
その下には検索結果のパビリオンを表示する。

虫眼鏡を押下すると、検索して表示する (空欄でもよい)
星を押下すると、お気に入りパビリオンの情報を取得して表示する

フィルターを押下すると、空き時間帯のあるパビリオンと時間帯のみ表示する (つまりクライアント側でのフィルター処理)
更新を押下すると現在の取得と同じ方法で再度データを取得して表示する


上半分:左から星、チェックボックス、パビリオン名、展開ボタン
星を押下するとそのパビリオンをお気に入りに (パビリオン名とIDをキャッシュ保存)
チェックボックスはフィルターOFFのときのみable, これを押下するとそのパビリオンの満員時間すべてを選択する

下半分: (必要に応じて2行以上で) (現在時刻以降かつ入場時間以降の)時間帯要素をボタンとして表示する。
時間帯を押下すると選択状態にする


画面下部右下には、予約ボタンを配置する

予約ボタンは選択済み時間帯がある場合のみ有効。押下すると、その時間帯で予約を試みる (ひとまず複数選択済みの場合も最初に選択状態にした一個だけにする)。

予約の結果は右下に結果を表示する(10秒くらいで消える)

## 高度な予約機能

### 時間帯選択時のタイムスタンプ記録
時間帯要素を選択したとき、その時の時間をunixtimeでdom要素の属性data-time-selectedとして追加する。
選択解除でこの属性は削除される。
パビリオン名の左のチェックボックスを押下した場合はunixtimeが手前の時間から昇順になるようにする。

### 順次予約機能  
2つ以上の要素を選択している状態で予約ボタンを押下すると一定時間ごとに順に選択済みの時間帯要素に対して予約を試みる。
この一定時間の頻度は初期では15秒とする。
誤操作防止オーバーレイの中央で中央にあるドロップダウンで1、5, 15, 30, 60で変更できる。
ただし1,5秒の間隔は180回で15秒に変更される。

### 監視モード
中央の誤操作防止オーバーレイではモードを「予約」から「監視」に変更できる。
監視モードになると一定時間ごとに更新を実行して、選択対象に空きが出たらその空きの最も優先度の高い(最も選択が早い)ものに対して予約を試みる。
この一定時間の頻度は「5, 15, 30, 60」から選べる。
5, 15秒間隔は180回で30秒間隔に変更される。