## 未完了の作業項目

### 🚨 緊急修正が必要な問題
- [x] **同行者チケット入力値が認識されない問題**（完了 - 問題なし）
  - [x] 現在のReact onChange実装の問題分析
  - [x] 代替入力方式の調査・実装
  - [x] 複数ブラウザでの動作検証
  - [x] 実機での動作確認
- [x] **同行者追加ボタンが押下できない問題**（完了 - 問題なし）
  - [x] タッチイベント処理の改善
  - [x] Safari互換性の向上

### 🎯 最近完了した作業（追加記録用）
- [x] **API調査機能の実装**（2025-08-22完了）
  - [x] myticket.js・ticket-selection.js の詳細解析
  - [x] 3つのAPI調査機能をデバッグダイアログに統合
  - [x] チケットIDすべての取得機能
  - [x] 入場予約済み一覧表示機能
  - [x] パビリオン予約状況詳細表示機能（状態≠1限定）
  - [x] 抽選期間の正確な日付範囲検証ロジック

## 将来のテスト拡張・改善項目

### 高度な結合テスト（Phase 2.5追加実装）
#### 優先: 正常系フロー
- [ ] 基本予約フロー結合テスト（利用可能→予約実行→成功）
- [ ] 監視機能正常フロー結合テスト（満員監視→利用可能検出→自動予約）
- [ ] リロード後継続フロー結合テスト（キャッシュ復元→監視再開）
- [ ] カレンダー変更時の状態クリーンアップ完全フロー
- [ ] 監視継続フラグ60秒期限管理テスト

#### 後回し: 例外・エラー系
- [ ] 中断ボタン押下テスト（監視中断・予約中断）
- [ ] エラーハンドリングテスト（DOM変化・ネットワークエラー）
- [ ] UI状態遷移テスト（FAB状態変化・ステータス表示）
- [ ] 最大試行回数超過テスト
- [ ] 日付変更時の処理テスト
- [ ] 複数監視対象管理テスト
- [ ] セッション期限切れテスト
- [ ] 不正状態回復テスト

### Unit Test追加実装
- [ ] 残り関数のUnit Test実装（現在50% → 80%目標）
- [ ] エッジケース・境界値テストの強化
- [ ] パフォーマンステスト（大量データ処理）
- [ ] セキュリティテスト（XSS耐性、入力検証）
- [ ] ブラウザ互換性テスト

### テスト品質改善
- [ ] テストカバレッジ測定・改善（Istanbul/nyc導入）
- [ ] E2Eテスト実装（Puppeteer/Playwright）
- [ ] CI/CD統合（GitHub Actions）
- [ ] テスト実行時間最適化
- [ ] テストデータ管理改善

## 今後の改善項目

### CSS優先度問題の修正
- [ ] 「すべて読み込み」ボタンのdisabled状態表示修正
- [ ] CSS specificity強化

### doc/ディレクトリの整理・再構成
- [x] **フォルダ構造の再構成**
  - [x] `doc/design/_archive/` 作成とdesign内の古い文書移動
  - [x] `doc/info/` 作成（DOM構造等の一次情報保存用）
  - [x] `doc/plan/_archive/` 作成（有用な完了済み計画保存用）
  - [x] `doc/dev/` の技術文書整理（開発者向け方針・仕様）
  - [ ] `doc/usage/` 作成準備（利用者向け詳細使い方、後回し可）
- [x] **一次情報の整理（doc/info/配置対象）**
  - [x] calendar-html-structure.md → info/（DOM構造分析）
  - [x] その他の技術調査・分析結果があればinfo/に移動
- [x] **完了済み計画の整理**
  - [x] phase4-implementation-plan.md → plan/_archive/（有用な場合）
  - [x] 有用でない完了済み計画 → ./tmp/ に移動
- [x] **削除済み機能（時間帯監視）関連文書の整理**
  - [x] implementation-status.md の全面書き直し → doc/dev/v1.0.0-status.md
  - [x] design/time-slot-monitoring-design.md → design/_archive/ に移動
  - [x] test-plan-comprehensive.md から監視機能削除
- [x] **古い構造・パス参照の更新**  
  - [x] src-modules/ → ts/modules/ パス更新
  - [x] unit-test-analysis.md 全面書き直し → doc/dev/testing-strategy.md
- [x] **v1.0.0対応文書の作成**
  - [x] doc/dev/v1.0.0-architecture.md（技術アーキテクチャ）
  - [x] doc/dev/module-dependencies.md（モジュール依存関係）
  - [x] doc/dev/build-and-deployment.md（ビルド・デプロイ手順）

### v1.0.0リリース前テスト強化
- [x] **v1.0.0主要機能のテスト作成・実行**
  - [x] 音声通知システムのテスト（8ビット音声生成、オン/オフ切替）
  - [x] 入場予約自動化の統合テスト（効率モード、通常モード）
  - [x] 同行者追加機能のE2Eテスト（入力、追加、成功フロー）
  - [x] TypeScriptモジュール構造の整合性テスト
  - [x] 状態管理システムのテスト（予約対象管理、実行状態）
- [x] **削除済み機能の残骸チェック**
  - [x] 時間帯監視関連コードの完全削除確認
  - [x] 未使用import/export の最終チェック
  - [x] window object 依存の動作テスト
- [x] **ブラウザ互換性テスト**
  - [x] Chrome (Windows) での全機能テスト
  - [x] Safari (iOS) での基本機能テスト
  - [x] 拡張機能権限の最小化確認
- [ ] **パフォーマンス・安定性テスト**
  - [ ] 大量予約リクエスト時の安定性確認
  - [ ] メモリリーク検出テスト
  - [ ] エラーハンドリング網羅性確認

### v1.0.0リリース準備
- [ ] バージョン番号の更新（package.json, manifest.json）
- [ ] 最終ビルドの実行と動作確認
- [ ] **README.md更新**
  - [ ] 音声通知機能の追加（🔊/🔇ボタン、8ビット風通知音の説明）
  - [ ] 入場予約画面の機能表に音声通知切替を追加
- [ ] **リリースアセットの準備**
  - [ ] src.zip の作成（srcディレクトリ圧縮）
  - [ ] index.js の単体ファイル準備（Safari用）
  - [ ] SHA256ハッシュ値の計算と記録
  - [ ] リリースノートへのSHA256追記
- [ ] GitHub Releaseの作成とリリースノート公開
- [ ] READMEのインストール手順確認
- [ ] Chrome Web Store申請準備（将来的）

### メインダイアログ実装（新規機能）
- [x] **メインダイアログの設計・実装**
  - [x] FABボタンとメインダイアログの基本構造実装（Phase 1完了）
  - [x] ticketタブ（チケット管理・選択機能）実装（Phase 2完了）
  - [x] pavilionタブ（パビリオン検索・予約機能）実装（Phase 3完了）
  - [x] APIを使用した公式サイト同等機能の統合（全機能完了）
  - [x] チケットID追加機能の実装

### パビリオン検索画面の問題修正
- [ ] **空きのみ絞り込みボタンの改善**
  - [ ] ON/OFF状態の表示改善（現在わかりづらい）
  - [ ] 追加読み込み後の動作不安定問題修正
  - [ ] 現在の実装調査・問題原因特定

